--- src/Terraria/Terraria/Recipe.cs
+++ src/tModLoader/Terraria/Recipe.cs
@@ -429,6 +_,10 @@
 		}
 
 		public static void SetupRecipeGroups() {
+			RecipeGroup.recipeGroups.Clear();
+			RecipeGroup.recipeGroupIDs.Clear();
+			RecipeGroup.nextRecipeGroupIndex = 0;
+
 			RecipeGroup rec = new RecipeGroup(() => Lang.misc[37].Value + " " + Lang.GetNPCNameValue(74), 2015, 2016, 2017);
 			RecipeGroupID.Birds = RecipeGroup.RegisterGroup("Birds", rec);
 			rec = new RecipeGroup(() => Lang.misc[37].Value + " " + Lang.GetNPCNameValue(367), 2157, 2156);
@@ -456,6 +_,9 @@
 		public static void SetupRecipes() {
 			int num = 5;
 			int stack = 2;
+
+			numRecipes = 0;
+
 			SetupRecipeGroups();
 			currentRecipe.createItem.SetDefaults(8);
 			currentRecipe.createItem.stack = 3;
@@ -9762,19 +_,40 @@
 			currentRecipe.requiredItem[1].SetDefaults(674);
 			currentRecipe.requiredTile[0] = 134;
 			AddRecipe();
+			if (Main.firstFractalRecipe) {
+				currentRecipe.createItem.SetDefaults(4956);
+				currentRecipe.requiredItem[0].SetDefaults(ItemID.FirstFractal);
+				currentRecipe.requiredItem[1].SetDefaults(2880);
+				currentRecipe.requiredItem[2].SetDefaults(1826);
+				currentRecipe.requiredItem[3].SetDefaults(3018);
+				currentRecipe.requiredItem[4].SetDefaults(65);
+				currentRecipe.requiredItem[5].SetDefaults(1123);
+				currentRecipe.requiredItem[6].SetDefaults(989);
+				currentRecipe.requiredItem[7].SetDefaults(3507);
+				currentRecipe.requiredTile[0] = 134;
+				AddRecipe();
+
+				currentRecipe.createItem.SetDefaults(ItemID.FirstFractal);
+				currentRecipe.requiredItem[0].SetDefaults(ItemID.TerraBlade);
+				currentRecipe.requiredItem[1].SetDefaults(ItemID.Meowmere);
+				currentRecipe.requiredItem[2].SetDefaults(ItemID.StarWrath);
+				AddRecipe();
+			}
+			else {
-			currentRecipe.createItem.SetDefaults(4956);
+				currentRecipe.createItem.SetDefaults(4956);
-			currentRecipe.requiredItem[0].SetDefaults(757);
+				currentRecipe.requiredItem[0].SetDefaults(757);
-			currentRecipe.requiredItem[1].SetDefaults(3063);
+				currentRecipe.requiredItem[1].SetDefaults(3063);
-			currentRecipe.requiredItem[2].SetDefaults(3065);
+				currentRecipe.requiredItem[2].SetDefaults(3065);
-			currentRecipe.requiredItem[3].SetDefaults(2880);
+				currentRecipe.requiredItem[3].SetDefaults(2880);
-			currentRecipe.requiredItem[4].SetDefaults(1826);
+				currentRecipe.requiredItem[4].SetDefaults(1826);
-			currentRecipe.requiredItem[5].SetDefaults(3018);
+				currentRecipe.requiredItem[5].SetDefaults(3018);
-			currentRecipe.requiredItem[6].SetDefaults(65);
+				currentRecipe.requiredItem[6].SetDefaults(65);
-			currentRecipe.requiredItem[7].SetDefaults(1123);
+				currentRecipe.requiredItem[7].SetDefaults(1123);
-			currentRecipe.requiredItem[8].SetDefaults(989);
+				currentRecipe.requiredItem[8].SetDefaults(989);
-			currentRecipe.requiredItem[9].SetDefaults(3507);
+				currentRecipe.requiredItem[9].SetDefaults(3507);
-			currentRecipe.requiredTile[0] = 134;
+				currentRecipe.requiredTile[0] = 134;
-			AddRecipe();
+				AddRecipe();
+			}
 			currentRecipe.createItem.SetDefaults(389);
 			currentRecipe.requiredItem[0].SetDefaults(527);
 			currentRecipe.requiredItem[1].SetDefaults(528);
@@ -13067,7 +_,7 @@
 		}
 
 		public static void UpdateWhichItemsAreMaterials() {
-			for (int i = 0; i < 5045; i++) {
+			for (int i = 0; i < ItemID.Count; i++) {
 				Item item = new Item();
 				item.SetDefaults(i, noMatCheck: true);
 				item.checkMat();
